#!/bin/bash 

function showerror(){

echo "$LANG" | grep "pt" > /dev/null
if [[ "$?" == "0" ]]
then
	MSG="Datasoul precisa de Java Runtime 6 ou mais recente.\nPor favor instale Java Runtime 6"
else
	MSG="Datasoul needs Java Runtime 6 or newer.\nPlease install Java Runtime 6"
fi

if [[ -x /usr/bin/zenity ]]
then
	zenity --error --text="$MSG" --title="Datasoul"
else
	echo $MSG
fi
}

# find java
MYJAVA=$(which java)
if [[ "$MYJAVA" == "" ]]
then
	showerror 
	exit 0
fi

JVM_VERS=$($MYJAVA -version 2>&1 | grep "1.[678]" >/dev/null)
if [[ "$?" != "0" ]]
then
	showerror
	exit 0
fi


DSDIR=/usr/lib/datasoul
java -cp $DSDIR/xercesImpl.jar:$DSDIR/xml-apis.jar:$DSDIR/datasoul.jar datasoul.DatasoulMainForm
